

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API &mdash; gama 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Release Notes" href="../releases.html" />
    <link rel="prev" title="User Guide" href="../user_guide/index.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> gama
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="#gama-classifier">GAMA Classifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="#gama-regressor">GAMA Regressor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gama</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="gama.gama.Gama">
<em class="property">class </em><code class="descclassname">gama.gama.</code><code class="descname">Gama</code><span class="sig-paren">(</span><em>objectives=('filled_in_by_child_class'</em>, <em>'size')</em>, <em>optimize_strategy=(1</em>, <em>-1)</em>, <em>config=None</em>, <em>random_state=None</em>, <em>population_size=50</em>, <em>max_total_time=3600</em>, <em>max_eval_time=300</em>, <em>n_jobs=1</em>, <em>verbosity=None</em>, <em>cache_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gama/gama.html#Gama"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gama.gama.Gama" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for the DEAP toolbox logic surrounding the GP process as well as ensemble construction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>objectives</strong> – a tuple which specifies towards which objectives to optimize
The valid metrics depend on the type of task. Many scikit-learn metrics are available.
Two additional metrics can also be chosen: <cite>size</cite> which represents the number of components in the pipeline,
and <cite>time</cite> which specifies the time it takes to train and validate a model.
Currently the maximum arity is 2.
Example: (‘f1_macro’, ‘size’) or (‘f1’,)</li>
<li><strong>optimize_strategy</strong> – a tuple of the same arity as <cite>objectives</cite>
Specifies for each objective whether you want to maximize (1) or minimize (-1) the objective.
Example: (1, -1).</li>
<li><strong>config</strong> – a dictionary which specifies available components and their valid hyperparameter settings
For more information, see <a class="reference internal" href="../user_guide/index.html#search-space-configuration"><span class="std std-ref">GAMA Search Space Configuration</span></a>.</li>
<li><strong>random_state</strong> – integer or None (default=None)
If an integer is passed, this will be the seed for the random number generators used in the process.
However, with <cite>n_jobs &gt; 1</cite>, there will be randomization introduced by multi-processing.
For reproducible results, set this and use <cite>n_jobs=1</cite>.</li>
<li><strong>population_size</strong> – positive integer (default=50)
Number of individuals to keep in the population at any one time.</li>
<li><strong>max_total_time</strong> – positive integer (default=3600)
Time in seconds that can be used for the <cite>fit</cite> call.</li>
<li><strong>max_eval_time</strong> – positive integer or None (default=300)
Time in seconds that can be used to evaluate any one single individual.</li>
<li><strong>n_jobs</strong> – integer (default=1)
The amount of parallel processes that may be created to speed up <cite>fit</cite>. If this number
is zero or negative, it will be set to the amount of cores.</li>
<li><strong>verbosity</strong> – integer (default=0)
Does nothing right now. Follow progress of optimization by tracking the log.</li>
<li><strong>cache_dir</strong> – string or None (default=None)
The directory in which to keep the cache during <cite>fit</cite>. In this directory,
models and their evaluation results will be stored. This facilitates a quick ensemble construction.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not instantiate the Gama baseclass directly. Instantiate GamaClassifier or GamaRegressor.
I could not get Sphinx to display the base class docstrings correctly
(see <a class="reference external" href="https://github.com/PGijsbers/gama/issues/8">issue #8</a>).</p>
</div>
</div>
<div class="section" id="gama-classifier">
<h1>GAMA Classifier<a class="headerlink" href="#gama-classifier" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="gama.GamaClassifier">
<em class="property">class </em><code class="descclassname">gama.</code><code class="descname">GamaClassifier</code><span class="sig-paren">(</span><em>config=None</em>, <em>objectives=('neg_log_loss'</em>, <em>'size')</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gama/GamaClassifier.html#GamaClassifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gama.GamaClassifier" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="gama.GamaClassifier.delete_cache">
<code class="descname">delete_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gama.GamaClassifier.delete_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the cache folder and all files associated to this instance.</p>
</dd></dl>

<dl class="method">
<dt id="gama.GamaClassifier.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X=None</em>, <em>y=None</em>, <em>arff_file_path=None</em>, <em>warm_start=False</em>, <em>auto_ensemble_n=25</em>, <em>restart_=False</em>, <em>keep_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#gama.GamaClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find and fit a model to predict target y from X.</p>
<p>Various possible machine learning pipelines will be fit to the (X,y) data.
Using Genetic Programming, the pipelines chosen should lead to gradually
better models. Pipelines will internally be validated using cross validation.</p>
<p>After the search termination condition is met, the best found pipeline
configuration is then used to train a final model on all provided data.</p>
<p>Must either specify <em>both</em> <cite>X</cite> and <cite>y</cite>, or <cite>arff_file_path</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X</strong> – Numpy Array (optional), shape = [n_samples, n_features]
Training data. All elements must be able to be converted to float.</li>
<li><strong>y</strong> – Numpy Array (optional), shape = [n_samples,]
Target values.</li>
<li><strong>arff_file_path</strong> – string (optional).
Path to an ARFF file containing the training data.
The last column is always taken to be the target.</li>
<li><strong>warm_start</strong> – bool. Indicates the optimization should continue using the last individuals of the
previous <cite>fit</cite> call.</li>
<li><strong>auto_ensemble_n</strong> – positive integer. The number of models to include in the ensemble which is built
after the optimizatio process.</li>
<li><strong>restart</strong> – bool. Indicates whether or not the search should be restarted when a specific restart
criteria is met.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gama.GamaClassifier.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>X=None</em>, <em>arff_file_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gama/GamaClassifier.html#GamaClassifier.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gama.GamaClassifier.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict the target for input X.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> – a 2d numpy array with the length of the second dimension is equal to that of X of <cite>fit</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a numpy array with predictions. The array is of shape (N,) where N is the length of the
first dimension of X.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gama.GamaClassifier.predict_proba">
<code class="descname">predict_proba</code><span class="sig-paren">(</span><em>X=None</em>, <em>arff_file_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gama/GamaClassifier.html#GamaClassifier.predict_proba"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gama.GamaClassifier.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict the class probabilities for input X.</p>
<p>Predict target for X, using the best found pipeline(s) during the <cite>fit</cite> call.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> – a 2d numpy array with the length of the second dimension is equal to that of X of <cite>fit</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a numpy array with class probabilities. The array is of shape (N, K) where N is the length of the
first dimension of X, and K is the number of class labels found in <cite>y</cite> of <cite>fit</cite>.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="gama-regressor">
<h1>GAMA Regressor<a class="headerlink" href="#gama-regressor" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="gama.GamaRegressor">
<em class="property">class </em><code class="descclassname">gama.</code><code class="descname">GamaRegressor</code><span class="sig-paren">(</span><em>config=None</em>, <em>objectives=('neg_mean_squared_error'</em>, <em>'size')</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gama/GamaRegressor.html#GamaRegressor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gama.GamaRegressor" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="gama.GamaRegressor.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X=None</em>, <em>y=None</em>, <em>arff_file_path=None</em>, <em>warm_start=False</em>, <em>auto_ensemble_n=25</em>, <em>restart_=False</em>, <em>keep_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#gama.GamaRegressor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find and fit a model to predict target y from X.</p>
<p>Various possible machine learning pipelines will be fit to the (X,y) data.
Using Genetic Programming, the pipelines chosen should lead to gradually
better models. Pipelines will internally be validated using cross validation.</p>
<p>After the search termination condition is met, the best found pipeline
configuration is then used to train a final model on all provided data.</p>
<p>Must either specify <em>both</em> <cite>X</cite> and <cite>y</cite>, or <cite>arff_file_path</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X</strong> – Numpy Array (optional), shape = [n_samples, n_features]
Training data. All elements must be able to be converted to float.</li>
<li><strong>y</strong> – Numpy Array (optional), shape = [n_samples,]
Target values.</li>
<li><strong>arff_file_path</strong> – string (optional).
Path to an ARFF file containing the training data.
The last column is always taken to be the target.</li>
<li><strong>warm_start</strong> – bool. Indicates the optimization should continue using the last individuals of the
previous <cite>fit</cite> call.</li>
<li><strong>auto_ensemble_n</strong> – positive integer. The number of models to include in the ensemble which is built
after the optimizatio process.</li>
<li><strong>restart</strong> – bool. Indicates whether or not the search should be restarted when a specific restart
criteria is met.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gama.GamaRegressor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>X</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/gama/GamaRegressor.html#GamaRegressor.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gama.GamaRegressor.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict the target for input X.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>X</strong> – a 2d numpy array with the length of the second dimension is equal to that of X of <cite>fit</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a numpy array with predictions. The array is of shape (N,) where N is the length of the
first dimension of X.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../releases.html" class="btn btn-neutral float-right" title="Release Notes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../user_guide/index.html" class="btn btn-neutral" title="User Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Pieter Gijsbers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>